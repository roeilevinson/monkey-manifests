# ---
# apiVersion: v1
# kind: Namespace
# metadata:
#   name: nginx-controller
# ---
# apiVersion: argoproj.io/v1alpha1
# kind: Application
# metadata:
#   name: nginx-controller
#   namespace: argocd
# spec:
#     project: default
#     source:
#       repoURL: 'https://github.com/kubernetes/ingress-nginx'
#       path: charts/ingress-nginx
#       targetRevision: HEAD
#       helm:
#         values: |
#             controller:
#               config:
#                 compute-full-forwarded-for: "true"
#                 use-forwarded-headers: "true"
#                 proxy-body-size: "0"
#               ingressClass: nginx
#               ingressClassResource:
#                 enabled: true
#                 default: false
#               affinity:
#                 podAntiAffinity:
#                   requiredDuringSchedulingIgnoredDuringExecution:
#                   - labelSelector:
#                       matchExpressions:
#                         - key: app.kubernetes.io/name
#                           operator: In
#                           values:
#                             - ingress-nginx
#                     topologyKey: "kubernetes.io/hostname"
#               replicaCount: 1
#               admissionWebhooks:
#                 enabled: true
#               service:
#                 annotations:
#                   service.beta.kubernetes.io/aws-load-balancer-type: nlb
#               metrics:
#                 enabled: true
#                 serviceMonitor:
#                   enabled: false
#                   additionalLabels:
#                     robusta: "monitoring"
#     destination:
#       server: 'https://kubernetes.default.svc'
#       namespace: nginx-controller
#     syncPolicy:
#       automated:
#         prune: false
#         selfHeal: false

